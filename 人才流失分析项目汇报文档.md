# 人才流失分析项目汇报文档

## 1. 开场

### 项目背景
企业的快速发展离不开人才的支撑，可是现在我国的企业的人才流失严重，人才流失问题现在已经成为了关系企业发展的一个重大的问题。这些企业要想在目前激烈的竞争中快速发展，就需要依靠自身的人力资源的来竞争。只有拥有比对方更强，更优秀，更具有创造力的人才，才能在竞争中取得优势。所以如何有效解决我国企业人才流失问题是一个很迫切的任务。人才流失已经成了很多企业正在面临的困境，关键人才的流程对企业的影响尤为明显。无论在IT互联网领域还是传统领域、事业单位，均面临关键人才的流失，作为公司的核心的人力资源部门，我们需要把控员工的基本情况，对员工的情况进行实时监控和预测，人才流失模型从公司的角度和员工自身角度分别入手，阐释了在那些重要维度能够保持流失率的下降，常规的做法比如增强企业文化，提高薪资，提高年终奖等，通过模型给出人力资源部门一定的建议。

### 存在的问题
1. 企业人才流失率高，影响企业的稳定发展
2. 缺乏有效的人才流失预测机制
3. 对人才流失的原因缺乏深入分析
4. 人力资源决策缺乏数据支持

### 项目结论与解决方案
通过我们开发的人才流失分析项目，我们得出了以下结论：

1. **关键影响因素**：年龄、月收入、加班情况、商务旅行频率、满意度均值等是影响人才流失的重要因素
2. **高风险群体**：低薪且经常加班的新员工是最容易流失的群体
3. **模型效果**：集成模型在预测人才流失方面表现最佳，准确率达到85.71%

基于以上结论，我们提出以下解决人才流失的办法和思路：

1. **优化薪酬体系**：提高低薪员工的薪资待遇，特别是经常加班的员工
2. **改善工作环境**：减少不必要的加班和商务旅行，提高员工满意度
3. **关注新员工**：加强对新员工的培训和关怀，提高其归属感
4. **建立预警机制**：利用我们的模型对员工流失风险进行定期评估，及时采取干预措施

## 2. 数据分析

### 原始数据问题分析
1. **数据规模**：训练集包含1100条记录，测试集包含350条记录，共1450条记录
2. **数据完整性**：数据中包含31个特征，包括员工基本信息、工作情况、薪资待遇等
3. **类别不平衡**：训练集中流失员工（Attrition=1）占比约16.18%（178/1100），存在类别不平衡问题
4. **异常值**：部分数值特征可能存在异常值，如年龄、月收入等

### 数据处理方法
1. **数据加载与预处理**：使用pandas加载CSV数据，处理缺失值
2. **类别不平衡处理**：使用SMOTE算法进行过采样，生成平衡的训练集
3. **异常值处理**：使用IQR方法对数值特征进行异常值裁剪
4. **特征选择**：删除无关特征，如EmployeeNumber、Over18、StandardHours等

### 数据可视化分析

**类别特征分布**

![类别特征分布](../fit2/categorical_features_distribution.png)

**数值特征分布**

![数值特征分布](../fit2/numerical_features_distribution.png)

**流失率与特征关系**

![流失率与特征关系](../fit2/attrition_rate_by_features.png)

**相关性矩阵**

![相关性矩阵](../fit2/correlation_matrix.png)

## 3. 特征工程

### 原始数据特征特点
1. **类别特征**：Department、EducationField、Gender、JobRole、MaritalStatus等
2. **数值特征**：Age、MonthlyIncome、TotalWorkingYears、YearsAtCompany等
3. **有序特征**：Education、EnvironmentSatisfaction、JobSatisfaction等
4. **二元特征**：OverTime、Attrition等

### 特征工程思路
1. **生存分析**：使用Cox PH模型计算风险分数（RiskScore），作为新的特征
2. **衍生特征**：
   - IncomePerAge：月收入与年龄的比值
   - IncomePerYear：月收入与工作年限的比值
   - TenureRatio：在当前公司工作年限与总工作年限的比值
   - LowPayHighOT：低薪且经常加班的标识
   - RecentHire：新员工标识
3. **特征编码**：使用OneHotEncoder对类别特征进行编码
4. **特征交互**：使用PolynomialFeatures生成特征交互项
5. **特征标准化**：使用StandardScaler对数值特征进行标准化

## 4. 模型训练

### 特征方案
1. **基础特征**：经过预处理后的原始特征
2. **衍生特征**：通过特征工程生成的新特征
3. **交互特征**：特征之间的交互项
4. **风险分数**：基于Cox PH模型的风险评估分数

### 模型选择
我们尝试了以下模型：
1. **决策树**：可解释性强，适合初步分析
2. **逻辑回归**：简单高效，适合线性关系建模
3. **随机森林**：集成学习方法，减少过拟合
4. **XGBoost**：梯度提升树，性能优异
5. **LightGBM**：轻量级梯度提升树，训练速度快
6. **集成模型**：结合多个模型的预测结果，提高预测准确性

### 模型评估结果
| 模型 | 准确率 | 精确率 | 召回率 | F1分数 | ROC AUC |
|------|--------|--------|--------|--------|--------|
| LightGBM | 0.8629 | 0.5556 | 0.4717 | 0.5102 | 0.8080 |
| XGBoost | 0.8657 | 0.5833 | 0.3962 | 0.4719 | 0.8333 |
| Logistic Regression | 0.6886 | 0.2778 | 0.6604 | 0.3911 | 0.7624 |
| Random Forest | 0.8457 | 0.4878 | 0.3774 | 0.4255 | 0.8067 |
| Ensemble | 0.8514 | 0.5106 | 0.4528 | 0.4800 | 0.8165 |
| Ensemble (后处理) | 0.8543 | 0.5200 | 0.4906 | 0.5049 | - |

#### 评估指标可视化

**模型性能对比图**

![模型性能对比图](../fit2/model_metrics_comparison.png)

**ROC AUC对比图**

![ROC AUC对比图](../fit2/roc_auc_comparison.png)

## 5. 模型评估

### 关键结论
1. **模型性能**：XGBoost在准确率（86.57%）和ROC AUC（0.8333）方面表现最佳，LightGBM在F1分数（0.5102）方面表现最佳，随机森林模型也表现良好，准确率达到84.57%
2. **集成效果**：集成模型结合了LightGBM、XGBoost、Logistic Regression和Random Forest四个模型的优势，F1分数达到0.4800，优于随机森林模型
3. **后处理效果**：基于规则的后处理提高了模型的召回率，F1分数从0.4800提升到0.5049
4. **特征重要性**：月收入、年龄、工作年限、距离家的距离等是影响人才流失的重要因素
5. **风险预测**：Cox PH模型显示，加班、商务旅行频率与人才流失风险正相关，年龄、月收入、满意度与风险负相关

### 模型评估指标分析
- **准确率**：所有模型的准确率都在68%以上，最高达到86.57%
- **精确率**：模型在预测流失员工时的精确率较低，最高为58.33%
- **召回率**：逻辑回归的召回率最高（66.04%），但精确率最低
- **F1分数**：LightGBM的F1分数最高（0.5102），平衡了精确率和召回率
- **ROC AUC**：所有模型的ROC AUC都在0.76以上，表明模型具有较好的区分能力

## 6. 模型优化建议

### 数据层面优化
1. **增加数据量**：收集更多的员工数据，提高模型的泛化能力
2. **数据标注**：确保数据标注的准确性，减少标注错误
3. **特征扩展**：增加更多相关特征，如员工培训情况、晋升历史等

### 模型层面优化
1. **超参数调优**：使用更细粒度的网格搜索或贝叶斯优化，寻找最佳超参数
2. **模型融合**：尝试更多的集成方法，如Stacking、Blending等
3. **特征选择**：使用更先进的特征选择方法，如LASSO、随机森林特征重要性等
4. **阈值优化**：根据业务需求，调整分类阈值，平衡精确率和召回率

### 业务层面优化
1. **实时预测**：建立实时的人才流失预测系统，及时识别高风险员工
2. **干预机制**：针对不同风险等级的员工，制定相应的干预措施
3. **效果评估**：定期评估模型预测的准确性，持续优化模型

## 7. 项目总结陈述

### 项目成果
1. **完整的人才流失分析系统**：包括数据处理、特征工程、模型训练、评估和预测功能
2. **多模型集成**：实现了多种机器学习模型的训练和评估，包括LightGBM、XGBoost、Logistic Regression和集成模型
3. **特征工程创新**：结合生存分析和衍生特征，提高了模型的预测能力
4. **可视化分析**：生成了特征重要性、模型调优曲线等可视化结果
5. **模型部署**：保存了训练好的模型，可用于实时预测

### 项目价值
1. **数据驱动决策**：为人力资源决策提供数据支持，减少主观判断
2. **风险预警**：提前识别高风险员工，及时采取干预措施
3. **成本节约**：减少人才流失带来的招聘、培训成本
4. **员工满意度提升**：通过分析影响因素，改善员工工作环境和待遇

### 未来展望
1. **模型迭代**：持续收集新数据，更新模型，提高预测准确性
2. **功能扩展**：增加更多分析维度，如部门层面、职位层面的流失分析
3. **系统集成**：与企业人力资源管理系统集成，实现自动化分析和预警
4. **行业应用**：将模型推广到其他行业，帮助更多企业解决人才流失问题

通过本项目的实施，我们不仅开发了一个有效的人才流失预测模型，还为企业提供了一套完整的人才流失分析解决方案，有助于企业更好地管理人力资源，降低人才流失率，提高企业竞争力。